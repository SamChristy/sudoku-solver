(this["webpackJsonpsudoku-solver"]=this["webpackJsonpsudoku-solver"]||[]).push([[0],{19:function(e,t,r){e.exports={one:"Ellipsis_one__zElG3",ellipsis:"Ellipsis_ellipsis__3jNN6",two:"Ellipsis_two__2xLtj",three:"Ellipsis_three__3hdzz"}},20:function(e,t,r){e.exports={app:"SudokuSolver_app__oOmwd",sudokuSolver:"SudokuSolver_sudokuSolver__10dvD",original:"SudokuSolver_original__3pmhz",error:"SudokuSolver_error__aZ9ao"}},26:function(e,t,r){e.exports={app:"SudokuScanner_app__39mV1",sudokuScanner:"SudokuScanner_sudokuScanner__3ToCZ",loadingMessage:"SudokuScanner_loadingMessage__1RgGF"}},28:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return f}));var n=r(1),i=r.n(n),a=r(4),o=r(8),c=r(11),s=r(12),l=r(18),u=r.n(l),h=r(40),d=r.n(h),v=r(25),f=function(){function t(r){var n=this;Object(c.a)(this,t),this.scheduler=void 0,this.language="eng",this.config={threadCount:2,whitelist:"",single:!1},this.getTesseractConfig=function(){var t=null!=="lib"?"lib":"";return{tesseractConfig:{user_defined_dpi:"300",tessedit_ocr_engine_mode:2,tessedit_pageseg_mode:n.config.single?"10":void 0,tessedit_char_whitelist:n.config.whitelist||void 0},workerConfig:u.a?{langPath:d.a.join(e,"..","..","..","public",t,"ocr"),cacheMethod:"none",gzip:!0}:{langPath:"".concat("/sudoku-solver","/").concat(t,"/ocr"),workerPath:"".concat("/sudoku-solver","/").concat(t,"/ocr/worker.min.js"),corePath:"".concat("/sudoku-solver","/").concat(t,"/ocr/tesseract-core.wasm.js")}}},this.config=Object(o.a)(Object(o.a)({},this.config),r),this.scheduler=Object(v.createScheduler)()}return Object(s.a)(t,[{key:"load",value:function(){var e=Object(a.a)(i.a.mark((function e(){var t,r,n,o,c=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getTesseractConfig(),r=t.workerConfig,n=t.tesseractConfig,o=function(){var e=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(v.createWorker)(r),e.next=3,t.load();case 3:return e.next=5,t.loadLanguage(c.language);case 5:return e.next=7,t.initialize(c.language);case 7:return e.next=9,t.setParameters(n);case 9:c.scheduler.addWorker(t);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=4,Promise.allSettled(Array(this.config.threadCount).fill(0).map(o));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Object(a.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scheduler.addJob("recognize",t);case 2:return r=e.sent,n=r.data.text,e.abrupt("return",n.slice(0,this.config.single?1:n.length-1));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"destruct",value:function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scheduler.terminate();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}()}).call(this,"/")},37:function(e,t,r){e.exports={app:"App_app__2ziFi"}},38:function(e,t,r){e.exports={camera:"Camera_camera__1ODM1"}},43:function(e,t,r){},5:function(e,t,r){e.exports={app:"Overlay_app__3lk76",overlay:"Overlay_overlay__3vGmN",corner:"Overlay_corner__1TZHo",top:"Overlay_top__1gty1",left:"Overlay_left__3L_DC",right:"Overlay_right___Zrwb",bottom:"Overlay_bottom__v5eaf"}},6:function(e,t,r){e.exports={app:"LoadingBlocks_app__-G7ER",loadingBlocks:"LoadingBlocks_loadingBlocks__WdlnC",load:"LoadingBlocks_load__2vBzM",block1:"LoadingBlocks_block1__3UdgJ",block2:"LoadingBlocks_block2__2F5y7",block3:"LoadingBlocks_block3__2dRof",block4:"LoadingBlocks_block4__2bBin",block5:"LoadingBlocks_block5__3LT2j",block6:"LoadingBlocks_block6__1ZCCM",block7:"LoadingBlocks_block7__3yVzZ",block8:"LoadingBlocks_block8__1q1wE",block9:"LoadingBlocks_block9__1MBjw"}},79:function(e,t,r){"use strict";r.r(t);r(43);var n,i=r(2),a=r.n(i),o=r(36),c=r.n(o),s=r(3),l=r(37),u=r.n(l),h=r(8),d=r(1),v=r.n(d),f=r(4),b={width:{ideal:2048},height:{ideal:1080},facingMode:{ideal:"environment"},focusMode:{ideal:"continuous"},whiteBalance:{ideal:"continuous"},exposureMode:{ideal:"continuous"}},g=function(){var e=Object(f.a)(v.a.mark((function e(){var t,r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:if(t=e.sent,(r=t.filter((function(e){return"videoinput"===e.kind}))).length){e.next=6;break}throw new Error("No camera found.");case 6:return n=r.filter((function(e){return e.label.includes("facing back")})),e.abrupt("return",n.length?n[n.length-1]:null);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(f.a)(v.a.mark((function e(t,r){var n,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return n=e.sent,i={video:Object(h.a)(Object(h.a)({},b),{},{deviceId:(null===n||void 0===n?void 0:n.deviceId)?n.deviceId:void 0},r&&{width:{ideal:r.width},height:{ideal:r.height}}),audio:!1},e.next=6,navigator.mediaDevices.getUserMedia(i);case 6:return t.srcObject=e.sent,e.next=9,t.play();case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),j=r(38),m=r.n(j),k=r(0);!function(e){e[e.Loading=0]="Loading",e[e.Active=1]="Active",e[e.Denied=2]="Denied",e[e.Unavailable=3]="Unavailable"}(n||(n={}));var w,O=Object(i.forwardRef)((function(e,t){var r=e.onStatusUpdate;return Object(i.useEffect)((function(){var e=t.current;return e?(p(e).catch((function(e){var t=e.name;return r("NotAllowedError"===t?n.Denied:n.Unavailable)})),function(){e.srcObject.getVideoTracks()[0].stop()}):function(){}}),[r,t]),Object(k.jsx)("video",{className:m.a.camera,ref:t,onLoadedMetadata:function(){return r(n.Active)},onSuspend:function(){return r(n.Unavailable)},playsInline:!0,muted:!0})})),_=r(11),x=r(12),y=function(){function e(t){Object(_.a)(this,e),this.grid=void 0,this.possibleDigits=void 0,this.width=void 0,this.height=void 0,this.blockWidth=void 0,this.blockHeight=void 0,this.grid=t,this.width=t[0].length,this.height=t.length,this.blockWidth=Math.sqrt(this.width),this.blockHeight=Math.sqrt(this.height),this.possibleDigits=this.buildPossibleDigitsMatrix(),this.eliminateImpossibleDigits(),this.autofillInferredValues()}return Object(x.a)(e,[{key:"isValid",value:function(){for(var e=this.grid,t=this.width,r=this.height,n=this.blockWidth,i=this.blockHeight,a=0;a<r;a++)for(var o=new Set,c=0;c<t;c++){var s=e[a][c];if(s){if(o.has(s))return!1;o.add(s)}}for(var l=0;l<t;l++)for(var u=new Set,h=0;h<r;h++){var d=e[h][l];if(d){if(u.has(d))return!1;u.add(d)}}for(var v=0;v<r/i;v++)for(var f=0;f<t/n;f++)if(!this.validateBlock(v,f))return!1;return!0}},{key:"validateBlock",value:function(e,t){for(var r=this.grid,n=this.blockWidth,i=this.blockHeight,a=e*i,o=t*n,c=new Set,s=a;s<a+i;s++)for(var l=o;l<o+n;l++){var u=r[s][l];if(u){if(c.has(u))return!1;c.add(u)}}return!0}},{key:"scanCellsBlock",value:function(e,t,r){for(var n=Math.floor(t/this.blockHeight),i=Math.floor(r/this.blockWidth),a=this.height/this.blockHeight,o=this.width/this.blockWidth,c=0;c<this.blockHeight;c++)for(var s=n*a+c,l=0;l<this.blockWidth;l++){var u=i*o+l;if(s!==t&&u!==r&&this.grid[s][u]===e)return!1}return!0}},{key:"validateCell",value:function(e,t){for(var r=this.grid,n=this.height,i=r[e][t],a=0;a<n;a++){if(a!==t&&r[e][a]===i)return!1;if(a!==e&&r[a][t]===i)return!1}return this.scanCellsBlock(i,e,t)}},{key:"buildPossibleDigitsMatrix",value:function(){var e=this;return Array.from({length:this.height},(function(t,r){return Array.from({length:e.width},(function(t,n){var i=e.grid[r][n]?[e.grid[r][n]]:[1,2,3,4,5,6,7,8,9];return new Set(i)}))}))}},{key:"eliminateFromRow",value:function(e,t,r){for(var n=0;n<this.width;n++)n!==r&&this.possibleDigits[t][n].delete(e)}},{key:"eliminateFromColumn",value:function(e,t,r){for(var n=0;n<this.height;n++)n!==r&&this.possibleDigits[n][t].delete(e)}},{key:"eliminateFromBlock",value:function(e,t,r){for(var n=Math.floor(t/this.blockHeight),i=Math.floor(r/this.blockWidth),a=this.height/this.blockHeight,o=this.width/this.blockWidth,c=0;c<this.blockHeight;c++)for(var s=n*a+c,l=0;l<this.blockWidth;l++){var u=i*o+l;s!==t&&u!==r&&this.possibleDigits[s][u].delete(e)}}},{key:"eliminateImpossibleDigits",value:function(){for(var e=0;e<this.height;e++)for(var t=0;t<this.width;t++){var r=this.grid[e][t];this.eliminateFromRow(r,e,t),this.eliminateFromColumn(r,t,e),this.eliminateFromBlock(r,e,t)}}},{key:"autofillInferredValues",value:function(){for(var e=0;e<this.height;e++)for(var t=0;t<this.width;t++)if(1===this.possibleDigits[e][t].size){var r=Array.from(this.possibleDigits[e][t].values()),n=Object(s.a)(r,1)[0];this.grid[e][t]=n}}},{key:"solve",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.grid,n=this.width,i=this.height,a=!0,o=e;o<i;o++){for(var c=a?t:0;c<n;c++)if(0===r[o][c]){for(var s=0,l=Array.from(this.possibleDigits[o][c]);s<l.length;s++){var u=l[s];if(r[o][c]=u,this.validateCell(o,c)&&this.solve(o,c+1))return r}return r[o][c]=0,null}a=!1}return r}}]),e}(),S=r(18),M=r.n(S),C=r(39),D=Object(C.a)(),E=parseFloat(null!==(w="20000")?w:"")||1e4,N=function(){var e=Object(f.a)(v.a.mark((function e(t){var r,n,i=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:E,(n=document.createElement("script")).defer=!0,t.startsWith("http")?n.src=t:n.src="".concat("/sudoku-solver","/").concat("lib","/").concat(t),document.body.appendChild(n),e.abrupt("return",new Promise((function(e,i){var a=window.setTimeout((function(){return i(new Error("".concat(t," failed to load in time")))}),r);n.addEventListener("load",(function(){window.clearTimeout(a),e()}))})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(f.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("mobileConsole.js");case 2:eruda.init();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=r(9),L=function(e,t){var r=Object(s.a)(e,2),n=r[0],i=r[1],a=Object(s.a)(t,2),o=a[0],c=a[1];return Math.pow(Math.pow(n-o,2)+Math.pow(i-c,2),.5)},A=function(e,t){var r=t.map((function(t){return L(e,t)})),n=r[0];return t.reduce((function(e,t,i){return r[i]<n?(n=r[i],t):e}))},T=function(e){return e.map((function(t,r){return L(t,e[r<e.length-1?r+1:0])}))},F=function(e,t){return e[0]>=t.x&&e[1]>=t.y&&e[0]<=t.x+t.width&&e[0]<=t.y+t.height},P=function(e){for(var t=Array.from(e.data32S),r=Array(4),n=0;n<4;n++)r[n]=t.slice(2*n,2*n+2);return r},I=function(e){var t=new cv.Mat,r=.01*cv.arcLength(e,!0);return cv.approxPolyDP(e,t,r,!0),t},z=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(4!==e.size().height)return!1;if(!t)return!0;var i=Math.pow(Math.min(t.rows,t.cols),2)*r,a=Math.max(t.rows,t.cols)*n;if(cv.contourArea(e)>=i){var o=P(e),c=T(o).sort(),s=c.pop();return!!s&&(s<a&&c.every((function(e){return e>.7*s})))}return!1},H=function(e,t){var r=[e.cols,e.rows],n=r[0],i=r[1],a=P(t),o=A([0,0],a),c=A([n,0],a),s=A([0,i],a),l=A([n,i],a),u=Math.min(c[0]-o[0],l[0]-s[0]),h=Math.min(s[1]-o[1],l[1]-c[1]),d=cv.Mat.zeros(u,h,cv.CV_8UC3),v=new cv.Size(u,h),f=cv.matFromArray(4,1,cv.CV_32FC2,[].concat(Object(B.a)(o),Object(B.a)(c),Object(B.a)(l),Object(B.a)(s))),b=cv.matFromArray(4,1,cv.CV_32FC2,[0,0,u,0,u,h,0,h]),g=cv.getPerspectiveTransform(f,b);return cv.warpPerspective(e,d,g,v,cv.INTER_LINEAR,cv.BORDER_CONSTANT),g.delete(),f.delete(),b.delete(),d},W=function(e,t,r){for(var n=new Array(t),i=e.cols/r,a=e.rows/t,o=0;o<t;o++){n[o]=new Array(r);for(var c=0;c<r;c++){var s=c*i,l=o*a,u=new cv.Rect(s,l,i,a);n[o][c]=e.roi(u)}}return n},V=function(e,t){var r=[Math.round(t.rows/2),Math.round(t.cols/2)],n=t.rows*t.cols,i=.08*n,a=.8*n,o=new cv.MatVector,c=new cv.Mat;cv.findContours(t,o,c,cv.RETR_TREE,cv.CHAIN_APPROX_SIMPLE),c.delete();for(var s=0,l=null,u=0;u<o.size();u++){var h=o.get(u),d=cv.boundingRect(h),v=d.width*d.height,f=d.width/d.height;v>i&&v<a&&f>.2&&f<1.6&&F(r,d)&&v>s&&(s=v,l=d),h.delete()}if(null!==l){var b=t.roi(l),g=function(e){var t=new cv.Mat(1,4,cv.CV_64F),r=new cv.Mat(1,4,cv.CV_64F);return cv.meanStdDev(e,t,r),t.doubleAt(0,0)>=230}(b);if(b.delete(),!g){var p=Math.round(.05*Math.pow(n,.5));return l.x=Math.max(l.x-p,0),l.y=Math.max(l.y-p,0),l.width=Math.min(l.width+2*p,e.cols-l.x),l.height=Math.min(l.height+2*p,e.rows-l.y),o.delete(),e.roi(l)}}return o.delete(),null},U=function(){function e(t,r){if(Object(_.a)(this,e),this.config={rows:9,columns:9,preprocess:{blurRadius:11,thresholdBlur:5,thresholdNorm:2},minSize:.25,maxSize:.99,blurThreshold:500},this.original=void 0,this.source=void 0,this.processed=void 0,!cv)throw new Error("OpenCV must be loaded!");this.original="ImageData"===t.constructor.name?cv.matFromImageData(t):cv.imread(t),this.source=this.original.clone(),this.config=Object(h.a)(Object(h.a)({},this.config),r)}return Object(x.a)(e,[{key:"extractSudokuImage",value:function(e){if(function(e,t){var r=new cv.Mat,n=new cv.Mat,i=new cv.Mat,a=e.clone();cv.cvtColor(a,a,cv.COLOR_RGB2GRAY,0),cv.Laplacian(a,r,cv.CV_64F,1,1,0,cv.BORDER_DEFAULT),cv.meanStdDev(r,n,i);var o=Math.pow(i.data64F[0],2);return a.delete(),r.delete(),n.delete(),i.delete(),o<t}(this.source,this.config.blurThreshold))return!1;this.preprocessImage();var t=this.findLargestSquare();return null!==t?(this.processed={colour:H(this.original,t),binary:H(this.source,t)},t.delete(),this.original.delete(),this.source.delete(),e&&cv.imshow(e,this.processed.colour),!0):(this.processed=null,!1)}},{key:"extractDigits",value:function(){if(null===this.processed)return null;if(void 0===this.processed)return this.extractSudokuImage()?this.extractDigits():null;for(var e=W(this.processed.colour,this.config.rows,this.config.columns),t=W(this.processed.binary,this.config.rows,this.config.columns),r=[],n=0;n<this.config.rows;n++){for(var i=[],a=0;a<this.config.columns;a++){var o=e[n][a],c=t[n][a],s=V(o,c);if(s){var l=document.createElement("canvas");i.push(l),cv.imshow(l,s),s.delete()}else i.push(null);o.delete(),c.delete()}r.push(i)}return r}},{key:"destruct",value:function(){this.processed?(this.processed.colour.delete(),this.processed.binary.delete()):(this.original.delete(),this.source.delete())}},{key:"preprocessImage",value:function(){var e=this.config.preprocess,t=e.blurRadius,r=e.thresholdBlur,n=e.thresholdNorm;cv.cvtColor(this.source,this.source,cv.COLOR_RGBA2GRAY,0);var i=new cv.Size(t,t);cv.GaussianBlur(this.source,this.source,i,0,0,cv.BORDER_DEFAULT),cv.adaptiveThreshold(this.source,this.source,255,cv.ADAPTIVE_THRESH_MEAN_C,cv.THRESH_BINARY,r,n)}},{key:"findLargestSquare",value:function(){var e=new cv.MatVector,t=new cv.Mat;cv.findContours(this.source,e,t,cv.RETR_TREE,cv.CHAIN_APPROX_SIMPLE);for(var r=0,n=null,i=0;i<e.size();i++){var a=e.get(i),o=I(a);if(z(o,this.source,this.config.minSize,this.config.maxSize)){var c=cv.contourArea(o);c>r&&(r=c,n=o.clone())}a.delete(),o.delete()}return e.delete(),t.delete(),n}}],[{key:"loadDependencies",value:function(){var e=Object(f.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M.a&&"undefined"===typeof cv){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return e.abrupt("return",N("opencv.js",t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),G=r(28);var Z=r(41),q=document.createElement("canvas");q.width=540,q.height=540;var J=function(e,t){var r=e.getBoundingClientRect(),n=r.width,i=r.height,a=Object(Z.cover)(n,i,e.videoWidth,e.videoHeight),o=a.width,c=a.height,s=a.x,l=a.y,u=s?e.videoHeight/c:e.videoWidth/o,h={x:u*(t.offsetLeft-e.offsetLeft-s),y:u*(t.offsetTop-e.offsetTop-l),width:u*t.offsetWidth,height:u*t.offsetHeight},d=q.getContext("2d");return d?(d.drawImage(e,h.x,h.y,h.width,h.height,0,0,q.width,q.height),d.getImageData(0,0,q.width,q.height)):null};var Y=r(19),X=r.n(Y);function $(){return Object(k.jsxs)("span",{children:[Object(k.jsx)("span",{className:X.a.one,children:"."}),Object(k.jsx)("span",{className:X.a.two,children:"."}),Object(k.jsx)("span",{className:X.a.three,children:"."})]})}var K=r(6),Q=r.n(K);function ee(){return Object(k.jsxs)("div",{className:Q.a.loadingBlocks,children:[Object(k.jsx)("span",{className:Q.a.block1}),Object(k.jsx)("span",{className:Q.a.block2}),Object(k.jsx)("span",{className:Q.a.block3}),Object(k.jsx)("span",{className:Q.a.block4}),Object(k.jsx)("span",{className:Q.a.block5}),Object(k.jsx)("span",{className:Q.a.block6}),Object(k.jsx)("span",{className:Q.a.block7}),Object(k.jsx)("span",{className:Q.a.block8}),Object(k.jsx)("span",{className:Q.a.block9})]})}var te=r(26),re=r.n(te);function ne(e){var t=e.source,r=e.onFound,n=e.scanHz,a=Object(i.useRef)(null),o=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,n=Object(i.useState)(null),a=Object(s.a)(n,2),o=a[0],c=a[1],l=Object(i.useState)(null),u=Object(s.a)(l,2),h=u[0],d=u[1],v=Object(i.useCallback)((function(){var n=Date.now(),i=!1;if(e.current&&t.current){var a=J(e.current,t.current);if(a){var o=new U(a);(i=o.extractSudokuImage(t.current))&&d(o.extractDigits()),o.destruct()}}var c=Date.now()-n;!i&&setTimeout(v,1e3/r-c)}),[t,r,e]);return Object(i.useEffect)((function(){null===o&&(U.loadDependencies().then((function(){setTimeout(v,100),c(!0)})),c(!1))}),[v,o]),[o,h]}(t,a,n),c=Object(s.a)(o,2),l=c[0],u=c[1],h=function(e){var t=Object(i.useState)(null),r=Object(s.a)(t,2),n=r[0],a=r[1],o=Object(i.useState)(null),c=Object(s.a)(o,2),l=c[0],u=c[1],h=Object(i.useMemo)((function(){return new G.a({whitelist:"123456789",single:!0})}),[]),d=Object(i.useCallback)((function(){return e&&Promise.all(e.map((function(e){return Promise.all(e.map(function(){var e=Object(f.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return e.t2=parseInt,e.next=4,h.read(t);case 4:if(e.t3=e.sent,e.t1=(0,e.t2)(e.t3,10),e.t1){e.next=8;break}e.t1=0;case 8:e.t0=e.t1,e.next=12;break;case 11:e.t0=0;case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}))).then(u)}),[e,h]);return Object(i.useEffect)((function(){null===n&&(h.load().then((function(){d(),a(!0)})),a(!1)),n&&d()}),[e,h,d,n]),Object(i.useEffect)((function(){return function(){h.destruct()}}),[h]),[n,l]}(u),d=Object(s.a)(h,2),b=d[0],g=d[1],p="";return l?u&&!b&&(p="Please wait while the reader loads"):p="Please wait while the scanner loads",Object(i.useEffect)((function(){g&&r(g)}),[r,g]),Object(k.jsxs)("div",{className:re.a.sudokuScanner,children:[Object(k.jsx)("canvas",{ref:a}),p&&Object(k.jsxs)("div",{className:re.a.loadingMessage,children:[Object(k.jsx)(ee,{}),Object(k.jsxs)("span",{children:[p,Object(k.jsx)($,{})]})]})]})}var ie=r(42),ae=r(20),oe=r.n(ae);function ce(e){var t=e.sudoku,r=new y(Object(ie.a)(t)),n=r.isValid()?r.solve():null,i=0;return Object(k.jsx)("table",{className:oe.a.sudokuSolver,children:Object(k.jsx)("tbody",{children:n?n.map((function(e,r){return Object(k.jsx)("tr",{children:e.map((function(e,n){return Object(k.jsx)("td",{className:t[r][n]?oe.a.original:"",children:e},i++)}))},i)})):Object(k.jsx)("div",{className:oe.a.error,children:Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{children:"Scan Failed"}),Object(k.jsx)("p",{children:"Please try to ensure the image is clear and not obstructed by anything."}),Object(k.jsx)("p",{children:"(PS: webcams or partially-completed sudokus likely won't work!)"})]})})})})}var se=r(5),le=r.n(se);function ue(e){var t=e.corners;return Object(k.jsx)("div",{className:le.a.overlay,role:"application",children:t&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"".concat(le.a.corner," ").concat(le.a.top," ").concat(le.a.left)}),Object(k.jsx)("div",{className:"".concat(le.a.corner," ").concat(le.a.top," ").concat(le.a.right)}),Object(k.jsx)("div",{className:"".concat(le.a.corner," ").concat(le.a.bottom," ").concat(le.a.left)}),Object(k.jsx)("div",{className:"".concat(le.a.corner," ").concat(le.a.bottom," ").concat(le.a.right)})]})})}function he(){var e=Object(i.useState)(n.Loading),t=Object(s.a)(e,2),r=t[0],a=t[1],o=Object(i.useState)(null),c=Object(s.a)(o,2),l=c[0],h=c[1],d=Object(i.useRef)(null);return Object(k.jsxs)("div",{className:u.a.app,children:[Object(k.jsx)("header",{children:Object(k.jsx)("h1",{children:"\ud83e\uddee Sudoku Solver"})}),Object(k.jsx)(O,{ref:d,onStatusUpdate:a}),Object(k.jsxs)("main",{children:[r===n.Active&&!l&&Object(k.jsx)(ne,{source:d,scanHz:10,onFound:h}),l&&Object(k.jsx)(ce,{sudoku:l}),Object(k.jsx)(ue,{corners:!l})]}),Object(k.jsxs)("footer",{children:[Object(k.jsx)("nav",{children:l&&Object(k.jsx)("button",{type:"button",onClick:function(){return h(null)},children:"Reset"})}),Object(k.jsxs)("p",{children:["\ud83d\udcdf"," ",Object(k.jsx)("a",{href:"https://github.com/SamChristy/sudoku-solver",target:"_blank",rel:"noreferrer",children:"see code"})]})]})]})}var de=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,80)).then((function(t){var r=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;r(e),n(e),i(e),a(e),o(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(he,{})}),document.getElementById("root")),window.location.search.includes("console")&&R(),"iOS"===(null===D||void 0===D?void 0:D.os)&&"ios"===D.name&&window.addEventListener("resize",(function(){document.body.style.height="100vh"})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),de()}},[[79,1,2]]]);
//# sourceMappingURL=main.e2c8fdc1.chunk.js.map